App

- แก้ไขตัวแปลภาษาด้วย POEdit (ตัวโปรแกรมจริงๆ loop up ใน Default.mo แต่เวลาแก้ไข แก้ด้วย .po)
- เมื่อสร้างแคมเปนที่ต้องการส่งให้คน 8000 คน ซึ่งเรามี 8 part แต่ละอันก็จะแบ่งไปอันละพัน ทุกๆครั้งที่ schedule_b ปั้นเมล โดยมีตาราง progress เพื่อเช็คว่าปั้นไปกี่เมลแล้ว เมื่อทุก part ปั้นเสดแล้ว ถึงจะส่ง โดยในแต่ละ part จะไม่ปั้นเมลซ้ำกัน โดยเมื่อก่อนจะส่ง
 - ตาราง progress จะบอกว่าแคปเปญนี้ prepare ไปแล้วเท่าไหร่ (prepare คือปั้นเมล)
- subscribers.php เป็นตารางที่เก็บไอดี ซึ่งถึงแม้ลูกค้าจะสมัครด้วยเมลเดียวกัน แต่ถ้าสมัครคนละ แคปเบญ ลูกค้าก็จะมี subscriber_ID คนละอันกัน

- table ‘campaigns’ เก็บรายระเอียดต่างๆ ของ 1 แคมเปญ รวมถึงโค้ด html ก็จะถูกเก็บอยู่ใน 1 ฟิลด์ ที่ตารางนี้ ส่วน ‘campaigns_json’ จะเก็บแค่ ไอดีของแคมเปญและฟิลด์ที่ไว้เก็บโค้ด json (โดยเวลาจะส่งแคมเปญจะเอาโค้ด html ไป แต่เวลาจะแก้ไขใน drag and drop จะใช้ json เพราะ beefree ใช้ json ในการแก้ไข) จึงต้องเก็บควบคู่กันไปทั้งสองตาราง
- table ‘a’

- การนำรุปภาพไปทพชำ base64 แล้วแนบไปว่าเป็น attachment ในอีเมล เมื่อผู้รับเปิดเมลปุ๊ป ภาพก็จะขึ้นโดยทันที
-CLOUDINARY เป็นบริการที่ช่วยปรับภาพ ปรับขนาด และปรับ quatity ของภาพ (จอปกติกับจอ Retina มีการแสดงภาพที่่ไม่เหมือนกัน) และเรามีการเตรียมรูปภาพขนาดใหญ่ไว้ให้สำหรับเปิดในหน้าจอแบบ Retina ด้วย

- โดยเวลาแปลงรูป ทั้ง 8 part จะแปลงของมันเองในทุก part เพื่อที่จะได้เรียกใช้ของตัวเองได้ ที่เรียกเก็บแบบนี้เพื่อให้เร็ว ถ้าเก็บใน s3 มันจะไม่เร็ว

- t.php จะเป็นไฟล์ท่ี่ทำให้เรารู้ว่าเมลของเราถูกเปิด โดยรู้จากการที่ผู้รับพยายามจะ fetch ภาพ ซึ้งภาพนั้นความจริงไม่มีอะไรเลย แต่มีลิงค์ src=“https://dev.sureinbox.com/t/ค่าที่เข้ารหัส/ค่าที่เข้ารหัส”
ซึ่งจะทำให้ web server ของเราโดนเรียก ซึ่งถ้ามี /t/ มันจะเอาค่าที่เข้ารหัสทั้งสองตัว มาencode กลับมาเป็นค่า subscriber_id and campaign_id เพื่อจะได้รู้ว่าใครเปิดแคมเปญไหน

- short(subscriber_id)=NKSDFKLSF45DS
short(NKSDFKLSF45DS,true)=subscriber_id

- บรรทัดที่ 666 ใน scheduled_b.php มี if นี้เพื่อ if ( 1 )//เผื่อในอนาคตจะเพิ่ม option ให้เลือกได้ เลยใส่ if รอไว้ก่อน คืออนาคตจะมี plan ให้ลูกค้าเลือก ถ้าลูกค้าจ่ายเงินเพิ่มก็จะแทนที่ URL ให้เป็น Cloundfront ซึ่งจะทำให้โหลดรูปได้เร็วขึ้น เพราะ  url cloundfront ที่อยู่ท่ี่สิงคโปรจึงทำให้เร็วกว่า

- detect_server.php เป็นไฟล์ท่ี่มี list ของโดเมน ที่เป็น ProdServer จะอยู่ในนี้ ซึ่งถ้าไม่ใช่ prodserver จะไม่สามารถส่งออกไปได้ มันจะส่งให้เราเองไม่ได้ส้งไปข้างนอก
- class.amazonses.php เป็นตัว insert MAIL ลงใน database เพื่อเป็ฯ queue


-----Edit On Git Website-------
-----Edit On Local-------


 
